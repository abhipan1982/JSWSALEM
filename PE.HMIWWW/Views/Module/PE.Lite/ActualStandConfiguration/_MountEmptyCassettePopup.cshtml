@model PE.HMIWWW.ViewModel.Module.Lite.ActualStandConfiguration.VM_StandConfiguration
@{
  Layout = "~/Views/Shared/_PopupLayout.cshtml";
}

@if (Model != null && !@ViewData.ModelState.IsValid)
{
  <script>
    $(document).ready(function () {
      $("#header").css('background', '#ce0037').css('color', '#fff');
    })
  </script>
}

<form asp-controller="ActualStandConfiguration" asp-action="MountCassette" data-ajax="true" data-ajax-method="POST"
      data-ajax-begin="OnFormBegin" data-ajax-success="OnFormSuccess" data-ajax-failure="OnFormError"
      class="container-fluid" target="formContainer" role="form" id="form">
  @Html.AntiForgeryToken()
  @Html.HiddenFor(model => model.StandId)

  <div class="row form-group">
    <div class="col text-right align-self-center">
      @Html.LabelFor(x => x.StandNo)
    </div>
    <div class="col">
      @Html.Kendo().TextBoxFor(m => m.StandNo).HtmlAttributes(new { style = "width:220px", @disabled = "disabled" }).Enable(false)
      @Html.HiddenFor(model => model.StandNo)
    </div>
  </div>

  <div class="row form-group">
    <div class="col text-right align-self-center">
      <label>@Html.LabelFor(x => x.EnumStandStatus)</label>
    </div>
    <div class="col">
      @(Html.Kendo().DropDownList().Name("EnumStandStatus").DataTextField("Text").DataValueField("Value").Value(Model.EnumStandStatus.ToString()).HtmlAttributes(new { style = "width:220px" }).BindTo((SelectList)ViewBag.StandStat))@Html.ValidationMessageFor(m => m.EnumStandStatus)

    </div>
  </div>


  <div class="row form-group">
    <div class="col text-right align-self-center">
      <label>@Html.LabelFor(x => x.CassetteId)</label>
    </div>
    <div class="col">
      @(Html.Kendo().DropDownList().Name("CassetteId")
          .DataTextField("Text")
          .DataValueField("Value")
          .HtmlAttributes(new { style = "width: 220px" })
          .Filter("contains")
          .DataSource(source =>
          {
             source.Read(read =>
             {
                 read.Action("GetEmptyCassetteToStandList", "ActualStandConfiguration", new { StandId = @Model.StandId });
             })
            .ServerFiltering(false);
          })
      )
    </div>
  </div>

  <hr />

  <div class="row form-group">
    <div class="col invalid">
      <p id="error">
        <span class="k-icon k-i-close-circle error-icon"></span> @VM_Resources.GLOB_Error
      </p>
    </div>
    <div class="col text-right">
      <button class="btn btn-primary popup_button" onclick="displayMessage()" type="submit">
        @VM_Resources.BUTTON_SubmitForm
      </button>
    </div>
  </div>
</form>
