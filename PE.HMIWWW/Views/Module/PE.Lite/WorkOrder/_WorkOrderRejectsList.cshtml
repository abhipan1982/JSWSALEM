@using PE.HMIWWW.ViewModel.Module.Lite.Material
@model long?

@(Html.Kendo().Grid<VM_RawMaterialOverview>()
  .Name("RejectsList")
  .NoRecords(n => n.Template(VM_Resources.GLOB_GRID_NO_DATA))
  .Pageable(p => p
    .Messages(m => m.Display(VM_Resources.GLOB_pagination)))
  .HtmlAttributes(new { style = "height: 100%;" })
  .Filterable()
  .Sortable()
  .Columns(c =>
  {
     c.Bound(x => x.RawMaterialId).Visible(false);
     c.Bound(x => x.RawMaterialName);
     c.ForeignKey(o => o.EnumRejectLocation, (SelectList)ViewBag.RejectLocation);
     c.Bound(x => x.OutputPieces);
     c.Bound(p => p.RawMaterialId).Sortable(false).Groupable(false).Filterable(false).Title(" ").Width(30)
       .ClientTemplate(@Html.ImageButton("edit", "_Reject.RejectRawMaterialPopup(#:RawMaterialId#, () => { _Reject_WorkOrder.refreshRejects(" + Model + ") })").ToString());
  })
  .DataSource(d => d
    .Ajax()
    .ServerOperation(true)
    .PageSize(23)
    .Read(r => r.Action("GetWorkOrderRejectsList", "WorkOrder", new {workOrderId = Model}))
  )
)
