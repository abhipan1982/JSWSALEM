@using PE.HMIWWW.ViewModel.Module.Lite.RollsetManagement;
@{
    ViewBag.Title = VM_Resources.PAGE_TITLE_GrindingTurning_Index;
    Layout = "~/Views/Shared/_LayoutWithoutWidgets.cshtml";
}

<script src="~/bundles/js/Module/GrindingTurning.js"></script>

<style>
    .title {
        font-size: 16px;
        color: #006487;
    }
</style>
@(Html.Kendo().Grid<VM_RollSetOverview>()
  .Name("PlannedRollSetGrid")
  .HtmlAttributes(new { style = @String.Format(" height:{0}px;", (ViewBag.FullGridHeight / 2) - 5) })
  .Scrollable()
  .Pageable(p => p
      .Messages(m => m.Display(VM_Resources.GLOB_pagination)))
  .Filterable()
  .Sortable()
  .Columns(columns =>
  {
    columns.Bound(p => p.RollSetId).Visible(false);
    columns.Bound(p => p.RollSetName).Sortable(true).Filterable(true).Width(100);
    columns.ForeignKey(o => o.RollSetType, (SelectList)ViewBag.RollsetTypes).Width(120);
    columns.ForeignKey(o => o.EnumRollSetStatus, (SelectList)ViewBag.RSetStatus).Width(70);
    columns.Bound(p => p.UpperRollName).Width(90);
    columns.Bound(p => p.UpperActualDiameter).Width(70).HtmlAttributes(new { style = "text-align: right;" });
    columns.Bound(p => p.BottomRollName).Width(90);
    columns.Bound(p => p.BottomActualDiameter).Width(70).HtmlAttributes(new { style = "text-align: right;" });
    columns.Bound(p => p.RollSetId).Width(60).Sortable(false).Groupable(false).Filterable(false).Title(" ")
                .ClientTemplate(
      @Html.ImageButton("rollset_details", "RollSetInfo(#= RollSetId #)", false).ToString() +
      @Html.ImageButton("rollset_config", "ConfigRollset(#= RollSetId #, #= RollSetType #)", false).ToString());
  })
  .DataSource(ds => ds
    .Ajax()
    .ServerOperation(true)
    .PageSize(27)
    .Events(e => e.Error("TelerikErrorHandler"))
    .Read(r => r.Action("GetPlannedRollsetData", "GrindingTurning"))
  )
)

<div class="white-space pt-2"><h5 class="title p-0 m-0 mb-1" style="clear: both;">@VM_Resources.NAME_ScheduledGrindingRollsets</h5></div>

@(Html.Kendo().Grid<VM_RollSetOverview>()
  .Name("ScheduledRollSetGrid")
  .HtmlAttributes(new { style = @String.Format(" height:{0}px;", (ViewBag.FullGridHeight / 2) - 15) })
  .Scrollable()
  .Pageable(p => p
  .Messages(m => m.Display(VM_Resources.GLOB_pagination)))
  .Filterable()
  .Sortable()
  .Columns(columns =>
  {
    columns.Bound(p => p.RollSetId).Visible(false);
    columns.Bound(p => p.RollSetName).Sortable(true).Filterable(true).Width(100);
    columns.ForeignKey(o => o.RollSetType, (SelectList)ViewBag.RollsetTypes).Width(120);
    columns.ForeignKey(o => o.EnumRollSetStatus, (SelectList)ViewBag.RSetStatus).Width(70);
    columns.Bound(p => p.UpperRollName).Width(90);
    columns.Bound(p => p.UpperActualDiameter).Width(70).HtmlAttributes(new { style = "text-align: right;" });
    columns.Bound(p => p.BottomRollName).Width(90);
    columns.Bound(p => p.BottomActualDiameter).Width(70);
    columns.Bound(p => p.RollSetId).Width(60).Sortable(false).Groupable(false).Filterable(false).Title(" ")
    .ClientTemplate(
      @Html.ImageButton("rollset_details", "RollSetInfo(#= RollSetId #)", false).ToString()
    + @Html.ImageButton("confirm", "ConfirmRollset(#= RollSetId #)", false).ToString()
    + @Html.ImageButton("cancel", "CancelRollset(#= RollSetId #)", false).ToString());
  })
  .DataSource(ds => ds
  .Ajax()
  .ServerOperation(true)
  .PageSize(27)
  .Events(e => e.Error("TelerikErrorHandler"))
  .Read(r => r.Action("GetScheduledRollsetData", "GrindingTurning"))
  )
)
