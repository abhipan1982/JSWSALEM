@model int?
@{
  Layout = "~/Views/Shared/_PopupLayout.cshtml";
}

<form id="materialsNumberForm" class="k-form k-form-vertical">
  <div style="height:auto;overflow-x:hidden">

    <div class="row form-group">
      <div class="col-5 text-right">
        <label>
          @VM_Resources.NAME_MaterialsNumber
        </label>
      </div>
      <div class="col-6">
        @Html.Kendo().NumericTextBox().Value(Model).Min(1).Max(Model).Name("MatNumberInput").Format("0").HtmlAttributes(new { required = "required", validationmessage = @VM_Resources.FORM_ATTRIBUTE_FieldIsRequired })
        @Html.ValidationMessage("MatNumberInput")
      </div>
    </div>

    <hr>

    <div class="row form-group">
      <div class="col invalid">
        <p id="error">
          <span class="k-icon k-i-close-circle error-icon"></span> @VM_Resources.GLOB_Error
        </p>
      </div>
      <div class="col text-right">
        <button class="btn btn-primary popup_button" type="submit">
          @VM_Resources.GLOB_Form_Button_Add
        </button>
      </div>
    </div>
  </div>

  @*}*@
</form>

<script>
  $(function () {
    const form = $("#materialsNumberForm");
    const matNrField = $("#MatNumberInput");
    form.kendoValidator().data("kendoValidator");

    form.submit(function (event) {
      event.preventDefault();
      ClosePopup(matNrField.val());
    });
  });
</script>


