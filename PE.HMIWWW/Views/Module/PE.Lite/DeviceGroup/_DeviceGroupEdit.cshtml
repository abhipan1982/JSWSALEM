@model PE.HMIWWW.ViewModel.Module.Lite.Maintenance.VM_DeviceGroup

@{
    ViewBag.Title = "_DeviceGroupEdit";
    Layout = "~/Views/Shared/_PopupLayout.cshtml";
}

<form asp-controller="DeviceGroup" asp-action="UpdateDeviceGroup" data-ajax="true" data-ajax-method="POST"
      data-ajax-begin="OnFormBegin" data-ajax-success="OnFormSuccess" data-ajax-failure="OnFormError"
      class="container-fluid" target="formContainer" role="form" id="form">

    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.DeviceGroupId)

    <div class="row h-25 p-0 pt-3">
        <hr/>
        <div class="col-12 p-0">
            <div class="container-fluid">

                <div class="form-group row">
                    <div class="col-4 text-right">
                        @Html.LabelFor(m => m.DeviceGroupCode)
                    </div>
                    <div class="col">
                        <div span id="incidentTypeCode">
                            @Html.Kendo().TextBoxFor(m => m.DeviceGroupCode)
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-4 text-right">
                        @Html.LabelFor(m => m.DeviceGroupName)
                    </div>
                    <div class="col">
                        <div span id="incidentTypeCode">
                            @Html.Kendo().TextBoxFor(m => m.DeviceGroupName)
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-4 text-right">
                        @Html.LabelFor(m => m.DeviceGroupDescription)
                    </div>
                    <div class="col">
                        @Html.Kendo().TextBoxFor(m => m.DeviceGroupDescription)
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-4 text-right">
                        @Html.LabelFor(m => m.FkParentDeviceGroupId)
                    </div>
                    <div class="col">
                        @(Html.Kendo().DropDownListFor(x => x.FkParentDeviceGroupId)
                            .Name("FkParentDeviceGroupId")
                            .DataTextField("Text")
                            .DataValueField("Value")
                            .HtmlAttributes(new {@class = "form-control form-control-sm"})
                            .BindTo(new SelectList(ViewBag.DeviceGroupsList.Items, "DeviceGroupId", "DeviceGroupName"))
                            .OptionLabel("-")
                            )
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row form-group">
        <div class="col invalid">
            <p id="error">
                <span class="k-icon k-i-close-circle error-icon"></span> @VM_Resources.GLOB_Error
            </p>
        </div>
        <div class="col text-right">
            <button class="btn btn-primary popup_button" onclick="displayMessage()" type="submit">
                @VM_Resources.GLOB_Form_Button_Update
            </button>
        </div>
    </div>
</form>