@model long?

<div class="container-fluid p-3">
    <div class="row">
        <div class="col-11 pb-2">
            @(Html.Kendo().Grid<PE.HMIWWW.ViewModel.Module.Lite.Setup.VM_SetupGroup>()
              .Name("SetupInfoGrid")
              .NoRecords(n => n.Template(VM_Resources.GLOB_GRID_NO_DATA))
              .Columns(columns =>
              {
                  columns.Bound(c => c.SetupId).Visible(false);
                  columns.Bound(c => c.CalculationTs).Format(PE.HMIWWW.Core.Resources.VM_Resources.GLOB_ShortDateTime_FORMAT);
                  columns.Bound(c => c.Product_Size);
                  columns.Bound(c => c.Steelgrade);
                  columns.Bound(c => c.Layout);
                  columns.Bound(c => c.Issue);
                  columns.Bound(c => c.Heat_Number);
                  columns.Bound(c => c.Work_Order);

                  columns.Bound(c => c.RelationToCurrent).ClientTemplate(
                     "#if( RelationToCurrent === 2)" +
                     "{" +
                        $"#<img src='/Content/Functions/Small/result_true.png' /> {VM_Resources.NAME_SetupsMathing}#" +
                     "}" +
                     "else if( RelationToCurrent === 1)" +
                     "{" +
                        $"#<img src='/Content/Functions/Small/result_warn.png' /> {VM_Resources.NAME_SetupsOptionalDifferent}#" +
                     "}" +
                     "else if( RelationToCurrent === 0)" +
                     "{" +
                        $"#<img src='/Content/Functions/Small/result_false.png' /> {VM_Resources.NAME_SetupsDifferent}#" +
                     "}#");

                  columns.Bound(c => c.RelationToNext).ClientTemplate(
                     "#if( RelationToNext === 2)" +
                     "{" +
                        $"#<img src='/Content/Functions/Small/result_true.png' /> {VM_Resources.NAME_SetupsMathing}#" +
                     "}" +
                     "else if( RelationToNext === 1)" +
                     "{" +
                        $"#<img src='/Content/Functions/Small/result_warn.png' /> {VM_Resources.NAME_SetupsOptionalDifferent}#" +
                     "}" +
                     "else if( RelationToNext === 0)" +
                     "{" +
                        $"#<img src='/Content/Functions/Small/result_false.png' /> {VM_Resources.NAME_SetupsDifferent}#" +
                     "}#");
              })
              .DataSource(d => d
                .Ajax()
                .ServerOperation(true)
                .PageSize(1)
                .Read(r => r.Action("GetSetupRelationSummary", "Setup", new { workOrderId = Model }))
              )
            )
        </div>
    </div>
    <div class="row">
        <div class="col-4">
            @await Html.PartialAsync("~/Views/Module/PE.Lite/Setup/_SetupSearchGridForWorkOrder.cshtml", Model)
        </div>
        <div class="col-7" id="SetupDetails">
            <div class="row justify-content-center plug">
                <div class="col-6 align-self-center">
                    <img src="~/css/Shared/plug.png" />
                    <p class="mt-5 plug-info">@VM_Resources.INFO_SelectPlugInfo</p>
                </div>
            </div>
        </div>
    </div>
</div>
