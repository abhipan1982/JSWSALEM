@using PE.HMIWWW.ViewModel.Module.Lite.Setup
@model long?

<div class="container-fluid p-3">
    <div class="row">
        <div class="pb-2 px-3" style="width: 93.8%">
            @(Html.Kendo().Grid<VM_SetupConfiguration>()
                .Name("SetupConfigurationsGrid")
                .NoRecords(n => n.Template(VM_Resources.GLOB_GRID_NO_DATA))
                .Columns(columns =>
                {
                    columns.Bound(c => c.ConfigurationId).Visible(false);
                    columns.Bound(c => c.ConfigurationName).HtmlAttributes(new { @class = "nowrap" });
                    columns.Bound(c => c.ConfigurationVersion).HtmlAttributes(new { @class = "nowrap" });
                    columns.Bound(c => c.ConfigurationLastSentTs).Format(VM_Resources.GLOB_LongDateTime_FORMAT).HtmlAttributes(new { @class = "nowrap" });
                    columns.Bound(c => c.ConfigurationCreatedTs).Format(VM_Resources.GLOB_LongDateTime_FORMAT).HtmlAttributes(new { @class = "nowrap" });
                })
                .DataSource(d => d
                .Ajax()
                .ServerOperation(true)
                .PageSize(3)
                .Read(r => r.Action("GetSetupConfigurationDetails", "SetupConfiguration", new { configurationId = Model })))
            )
        </div>
    </div>

    <div class="row">
        <div class="col-4">
            @await Html.PartialAsync("~/Views/Module/PE.Lite/SetupConfiguration/_SetupConfigurationSearchGrid.cshtml", Model)
        </div>
        <div class="col-7" id="SetupConfigurations">
            <div class="row justify-content-center plug">
                <div class="col-6 align-self-center">
                    <img src="~/css/Shared/plug.png" />
                    <p class="mt-5 plug-info">@VM_Resources.INFO_SelectPlugInfo</p>
                </div>
            </div>
        </div>
    </div>
</div>
