@using PE.HMIWWW.ViewModel.Module.Lite.EventCalendar
@model long?

@(Html.Kendo().Grid<VM_EventCalendar>()
  .Name("RawMaterialEvents")
  .HtmlAttributes(new { style = "height: 100%;" })
  .NoRecords(n => n.Template(VM_Resources.GLOB_GRID_NO_DATA))
  .Sortable()
  .Filterable()
  .Scrollable()
  .Pageable(p => p
    .Messages(m => m.Display(VM_Resources.GLOB_pagination)))
  .Columns(columns =>
  {
    columns.Bound(c => c.EventId).Visible(false);
    columns.Bound(c => c.AssetName);
    columns.Bound(c => c.EventTypeName);
    columns.Bound(c => c.EventTypeDescription);
    columns.Bound(c => c.EventStartTs).Format(VM_Resources.GLOB_ShortDateTime_FORMAT);
    columns.Bound(c => c.EventEndTs).Format(VM_Resources.GLOB_ShortDateTime_FORMAT);
  })
  .DataSource(d => d
    .Ajax()
    .ServerOperation(true)
    .PageSize(24)
    .Read(r => r.Action("GetRawMaterialEvents", "RawMaterial", new {rawMaterialId = Model})))
)
